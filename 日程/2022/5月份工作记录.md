### 工作任务书

海外运维平台设计与实施, 完成海外运维基础监控自动化 5.31 @闫野 @冯庚平

1. 完成海外运维平台整体规划与适配设计 5.10 @闫野 @冯庚平
2. 完成海外运维与通用监控方案的设计 5.10 @闫野 @冯庚平
3. 完成海外 aws 托管组件自动更新 5.25 @闫野 @冯庚平
4. 完成海外基础监控监控采集部署与自动更新 5.31 @冯庚平
5. 完成海外基础监控监控策略同步适配 5.31 @冯庚平
6. 5.20 获取前一天 node 物理网卡公网带宽最大值，推送至 cmdb

### 5-5

1. task 的 sql 工具包上线
   前后端都弄好了，还差 goInception。需要入云，且要在 judb 上申请一个数据库
   goInception 也弄好了。明天等数据库搞好，把数据库地址配上就能用了。可以测一下 sql 校验功能
2. telegraf-http
   给李永福用的从夜莺把数据发给 telegraf，然后转给 kafka。这个 telegraf 搞好了。目前停止，啥时候用，就把 kafka 地址配上，就能用

### 5-6

1. task 工具包搞定，需要找个线上库测一下流程。下午把监控库找一个弄上去

### 5-10

1. 这两天在看 telegraf 替换 n9e-agent 的可行性
   telegraf 可以执行自定义脚本，但是 metric 需要在配置文件里面自行定义，且源码逻辑会把存储值的 key 的名字，追加到 metric 里面去
   类似：
   {"metric": "aa", "value": 100}
   这个数据，发送到 opentsdb 就会变成
   {"metric": "配置文件定义的内容\_value", "metric": "aa"}
   追加了"\_value"，并且原来 metric 这个关键字变成了一个 tag 的 key。
   这个问题，通过修改源码搞定了。需要注意的是，telegraf 配置文件 input 项里面 name_override 这个重定义 metric 的配置，必须以 "selfmetric\_"开头，这样才能识别，并去掉前缀。

### 5-23

1. telegraf 改造基本完成
   明天要检查 opentsdb 输出的时候，已经去掉前缀了，但是反而不好用了
