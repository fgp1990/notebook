# 数据库数据异常监控工具

针对数据库中的数据异常情况进行监控的工具。例如，订单数量异常、订单状态异常等需要通过 sql 语句查询并比较结果的指标

## 一、需求列表

1. 功能位置：放到 fmp 系统中。在监控配置页下新增 sql 监控页。
2. 监控策略展示

- 可以看到当前已配置的监控策略
- 允许通过开关来决定是否生效
- 可以通过创建人、策略名称进行搜索
- 表头内容：ID、状态、metric、namespace、告警信息说明、目标数据库、阈值、频率、操作选项

3. 监控策略配置

- 选择目标数据库(数据从 cmdb 取)
- 手动输入监控 sql
- 允许进行可靠性测试(选做)
- 允许设置执行频率
- 安全检查：不可以有 delete；需要有 limit；写死以 select count(1) 开头？
- <font color="red">还需要能够同步到夜莺，这里只是设置了数据采集规则，并没有告警方面的内容</font>

4. 额外部分
   完成 fmp 事件模型写入 clickhouse
